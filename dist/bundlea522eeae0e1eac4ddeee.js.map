{"version":3,"file":"bundlea522eeae0e1eac4ddeee.js","mappings":"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","sources":["webpack://javascriptcapstone/./module/likes.js","webpack://javascriptcapstone/./module/mealList.js","webpack://javascriptcapstone/./src/index.js","webpack://javascriptcapstone/./src/bundle.css"],"sourcesContent":["// Function to update the like count for a specific meal\nexport const updateLikeCount = (mealId) => {\n  // Selecting the like count element associated with the given mealId\n  const likeCountEl = document.querySelector(\n    `.heart-icon[data-meal-id=\"${mealId}\"] + .like-count`,\n  );\n\n  // Parsing the current number of likes from the like count element\n  const currentLikes = parseInt(\n    likeCountEl.textContent.split(':')[1].trim(),\n    10,\n  );\n\n  // Incrementing the like count by 1 after every click.\n  const updatedLikes = currentLikes + 1;\n\n  // Updating the like count element with the new value\n  likeCountEl.textContent = `Likes: ${updatedLikes}`;\n\n  // Storing the updated like count in the local storage using the mealId as the key\n  localStorage.setItem(mealId, updatedLikes);\n};\n\n// Function to handle the click event on the heart icon\nexport const handleLikeClick = (event, appID) => {\n  // Extracting the mealId from the data-meal-id attribute of the clicked element\n  const mealId = event.target.getAttribute('data-meal-id');\n\n  // Creating the request body to be sent with the POST request\n  const requestBody = {\n    item_id: mealId,\n  };\n\n  // Sending a POST request to update the like count for the meal with the specified appID\n  fetch(\n    `https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/${appID}/likes/`,\n    {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(requestBody),\n    },\n  ).then((response) => {\n    // Checking if the POST request was successful (status code 201)\n    if (response.status === 201) {\n      // Calling the updateLikeCount function to increment the like count in the UI\n      updateLikeCount(mealId);\n    }\n  });\n};\n","const displayMealList = (meals) => {\n  const mealListContainer = document.getElementById('mealList');\n  const mealsMenuItem = document.getElementById('mealsMenuItem');\n\n  // Update menu item with meal count\n  mealsMenuItem.firstChild.textContent = `Meals (${meals.length})`;\n\n  // Create meal cards\n  const createMealCard = (meal) => {\n    const mealCard = document.createElement('div');\n    mealCard.className = 'meal-card';\n\n    const thumbnailImg = document.createElement('img');\n    thumbnailImg.src = `${meal.strMealThumb}/preview`;\n\n    const nameHeading = document.createElement('h3');\n    nameHeading.textContent = meal.strMeal;\n\n    const actionsContainer = document.createElement('div');\n    actionsContainer.className = 'actions-container';\n\n    const likesContainer = document.createElement('div');\n    likesContainer.className = 'likes-container';\n\n    const heartIcon = document.createElement('i');\n    heartIcon.className = 'heart-icon uil uil-heart';\n    heartIcon.setAttribute('data-meal-id', meal.idMeal);\n\n    const likeCount = document.createElement('span');\n    likeCount.className = 'like-count';\n    const storedLikes = localStorage.getItem(meal.idMeal);\n    likeCount.textContent = `Likes: ${storedLikes || 0}`;\n\n    likesContainer.appendChild(heartIcon);\n    likesContainer.appendChild(likeCount);\n\n    const commentButton = document.createElement('button');\n    commentButton.className = 'comment-button';\n    commentButton.textContent = 'Comment';\n\n    actionsContainer.appendChild(likesContainer);\n    actionsContainer.appendChild(commentButton);\n\n    mealCard.appendChild(thumbnailImg);\n    mealCard.appendChild(nameHeading);\n    mealCard.appendChild(actionsContainer);\n\n    return mealCard;\n  };\n\n  // Creating meal cards\n  meals.forEach((meal) => {\n    const mealCard = createMealCard(meal);\n    mealListContainer.appendChild(mealCard);\n  });\n};\n\nexport default displayMealList;\n","// Importing the CSS styles from the bundle.css file\nimport './bundle.css';\n\n// Importing functions from the mealList and likes modules\nimport displayMealList from '../module/mealList.js';\nimport { handleLikeClick } from '../module/likes.js';\n\n// Storing the appID\nlet appID;\n\n// Sending a POST request to retrieve the appID\nfetch(\n  'https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps/',\n  {\n    method: 'POST',\n  },\n)\n  .then((response) => response.text()) // Parsing the response as text\n  .then((data) => {\n    appID = data.trim(); // Storing the retrieved appID after removing whitespace\n\n    // Fetching data from the MealDB API for meals starting with the letter 'c'\n    fetch('https://www.themealdb.com/api/json/v1/1/search.php?f=c')\n      .then((response) => response.json()) // Parsing the response as JSON\n      .then((data) => {\n        const { meals } = data; // Extracting the meals from the response data\n        displayMealList(meals);\n\n        // Attaching event listeners to the heart icons\n        const heartIcons = document.querySelectorAll('.heart-icon');\n        heartIcons.forEach((icon) => {\n          icon.addEventListener('click', (event) => {\n            handleLikeClick(event, appID);\n          });\n        });\n      });\n  });\n","// extracted by mini-css-extract-plugin\nexport {};"],"names":["updateLikeCount","mealId","likeCountEl","document","querySelector","concat","currentLikes","parseInt","textContent","split","trim","updatedLikes","localStorage","setItem","handleLikeClick","event","appID","target","getAttribute","requestBody","item_id","fetch","method","headers","body","JSON","stringify","then","response","status","displayMealList","meals","mealListContainer","getElementById","mealsMenuItem","firstChild","length","createMealCard","meal","mealCard","createElement","className","thumbnailImg","src","strMealThumb","nameHeading","strMeal","actionsContainer","likesContainer","heartIcon","setAttribute","idMeal","likeCount","storedLikes","getItem","appendChild","commentButton","forEach","text","data","json","heartIcons","querySelectorAll","icon","addEventListener"],"sourceRoot":""}